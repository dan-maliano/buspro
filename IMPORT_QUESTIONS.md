# ייבוא השאלות לדטאבייס

## שלבי הייבוא

### 1. וודא שקיימים קבצי JSON
הקבצים הבאים חייבים להיות בתיקיית `data/`:
- `questions.json` - כל השאלות
- `correct_answers.json` - התשובות הנכונות

### 2. הרץ את הסקריפט
\`\`\`bash
npm run import-questions
\`\`\`

או ישירות עם tsx:
\`\`\`bash
npx tsx scripts/import-real-questions.ts
\`\`\`

## מה הסקריפט עושה?

1. **מוחק שאלות קיימות** - מנקה את הטבלה `questions` מכל השאלות הישנות
2. **מייבא שאלות חדשות** - קורא מקבצי ה-JSON ומכניס את כל השאלות לדטאבייס
3. **מדלג על שאלות ריקות** - לא מייבא שאלות ללא טקסט או ללא תשובות
4. **ממפה קטגוריות** - מוסיף קטגוריה לכל שאלה לפי מספר הפרק
5. **מציין תשובות נכונות** - שומר את האות הנכונה (א, ב, ג, או ד) לכל שאלה

## מה קורה אחרי הייבוא?

- המערכת תטען 30 שאלות אקראיות למבחן סימולציה
- בכל מבחן, התשובות יערבבו באופן אקראי (באמצעות `shuffleQuestionAnswers`)
- התשובה הנכונה תעודכן אוטומטית לפי המיקום החדש של התשובות

## בדיקת תקינות

לאחר הרצת הסקריפט, תראה:
\`\`\`
[v0] Starting import of questions...
[v0] Deleted existing questions
[v0] Imported 50 questions...
[v0] Imported 100 questions...
...
[v0] Import complete!
[v0] Successfully imported: XXX questions
[v0] Skipped: YYY questions
\`\`\`

## פתרון בעיות

### שגיאת חיבור לדטאבייס
וודא שמשתני הסביבה מוגדרים:
- `NEXT_PUBLIC_SUPABASE_URL`
- `SUPABASE_SERVICE_ROLE_KEY`

### שגיאת ייבוא JSON
וודא שקבצי ה-JSON תקינים ונמצאים בתיקייה `data/`

### שאלות לא מופיעות במבחן
נקה את ה-cache של הדפדפן ורענן את הדף
\`\`\`

יצרתי סקריפט ייבוא מוכן להרצה שמייבא את כל 500 השאלות מקבצי ה-JSON לדטאבייס. הסקריפט ממפה כל פרק לקטגוריה מתאימה, מדלג על שאלות ריקות, ושומר את התשובה הנכונה לכל שאלה. המערכת כבר מוכנה לערבב את התשובות אוטומטית בכל פעם שמוצגת שאלה, כך שהתשובות מופיעות תמיד בסדר אקראי אך התשובה הנכונה נשמרת.
